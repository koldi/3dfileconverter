#include "catch2.hpp"
#include "STLParser.h"
#include "Material.h"
#include <vector>

std::vector<Face> inputMaterialFaces = {{{ {1.000000, -1.000000, -1.000000}, {}, {} },
{ {1.000000, -1.000000, 1.000000}, {}, {} },
{ {-1.000000, -1.000000, 1.000000}, {}, {} },
{ {-1.000000, -1.000000, -1.000000}, {}, {} }},

{{ {1.000000, -1.000000, -1.000000}, {1.0000, 1.0000}, {} },
{ {1.000000, -1.000000, 1.000000}, {-1.0000, 1.0000}, {} },
{ {-1.000000, -1.000000, 1.000000}, {1.0000, 1.0000}, {} },
{ {-1.000000, -1.000000, -1.000000}, {-1.0000, 1.0000}, {} }},

{{ {1.000000, -1.000000, -1.000000}, {1.0000, 1.0000}, {0.0000, -1.0000, 0.0000} },
{ {1.000000, -1.000000, 1.000000}, {-1.0000, 1.0000}, {0.0000, 1.0000, 0.0000} },
{ {-1.000000, -1.000000, 1.000000}, {1.0000, 1.0000}, {1.0000, 0.0000, 0.0000} },
{ {-1.000000, -1.000000, -1.000000}, {-1.0000, 1.0000}, {-0.0000, -0.0000, 1.0000} }},

{{ {1.000000, -1.000000, -1.000000}, {}, {0.0000, -1.0000, 0.0000} },
{ {1.000000, -1.000000, 1.000000}, {}, {0.0000, 1.0000, 0.0000} },
{ {-1.000000, -1.000000, 1.000000}, {}, {1.0000, 0.0000, 0.0000} },
{ {-1.000000, -1.000000, -1.000000}, {}, {-0.0000, -0.0000, 1.0000} }}};

TEST_CASE("STL Data Parser", "[parser]")
{
    STLParser parser;
    SECTION( " minimal data object " ) 
    {
        auto meterialFaces = inputMaterialFaces;
        std::vector<Material> input = {{"Material", std::move(meterialFaces)}};
        auto result = parser.ToData(input);
        REQUIRE(!result.empty());
    }

}
